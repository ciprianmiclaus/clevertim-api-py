
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Clevertim Python API documentation! &#8212; clevertim-api-py 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="clevertim-python-api-documentation">
<h1>Clevertim Python API documentation!<a class="headerlink" href="#clevertim-python-api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.clevertim.com">Clevertim CRM</a> is a simple CRM and web based contact management system for small businesses. It allows small teams to keep their contacts, companies, sales opportunities, support cases, files, notes and emails together in one central web location, making it accessible from anywhere and from any device.</p>
<p>The Clevertim Python API allows you to connect to your <a class="reference external" href="https://www.clevertim.com">Clevertim CRM</a> account and manipulate your data programmatically.
The API connection requires an API key, which is user based (i.e. each onboarded Clevertim user will have a different API key) and the data visibility rules, data updates and deletions will observe the user permissions set in Clevertim. Any changes done via the API will be visible in the “What’s New” section in Clevertim.</p>
<p>The Clevertim Python API is a Python wrapper on top of the Clevertim REST API which is described at <a class="reference external" href="https://github.com/clevertim/clevertim-crm-api">https://github.com/clevertim/clevertim-crm-api</a> and it can be used directly via tools like curl. The Clevertim Python API makes it easier to use the REST API by providing valuable cross-linking of models, validating inputs/outputs, provide client side caching and trying to make your life as a developer easier. The Clevertim Python API is being developed at <a class="reference external" href="https://github.com/ciprianmiclaus/clevertim-api-py">https://github.com/ciprianmiclaus/clevertim-api-py</a>.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install-the-clevertim-python-api">
<h3>Install the Clevertim Python API<a class="headerlink" href="#install-the-clevertim-python-api" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">clevertimapi</span>
</pre></div>
</div>
<p>The Clevertim Python API supports the following versions of Python: 2.6, 2.7, 3.2, 3.3, 3.4, 3.5, 3.6, pypy and pypy3.</p>
</div>
<div class="section" id="get-your-api-key">
<h3>Get your API key<a class="headerlink" href="#get-your-api-key" title="Permalink to this headline">¶</a></h3>
<p>In order to connect to connect to Clevertim you will need an API key. This is available in Clevertim in the <a class="reference external" href="https://www.clevertim.com/welcome/#info-settings">My Info &amp; settings / API Key section</a>. You might have to generate the API key the first time.</p>
<p>The API key consists of a long alpha-numeric set of characters and it should look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ITHkCPbXdOWfGNTj5qOzNJkceftfRWwGXtrU39exmW0UzVwKUiZ1343</span>
</pre></div>
</div>
<p>The above API key is included for illustration purposes only to help you identify the API key in Clevertim. The API key above will be used in the examples on this website, but please keep in mind, your API key will be different.</p>
</div>
<div class="section" id="create-a-session">
<h3>Create a Session<a class="headerlink" href="#create-a-session" title="Permalink to this headline">¶</a></h3>
<p>The Session instance is at the heart of the API and it’s the first object you create. All the other objects and endpoints require a session object to be passed in.
The Session object is the place that stores the API key, makes all the REST requests and provides some caching.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;ITHkCPbXdOWfGNTj5qOzNJkceftfRWwGXtrU39exmW0UzVwKUiZ1343&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This session object will then be used in all subsequent request and object instantiations where a session is required.</p>
</div>
<div class="section" id="the-concept-of-key">
<h3>The concept of key<a class="headerlink" href="#the-concept-of-key" title="Permalink to this headline">¶</a></h3>
<p>All objects/endpoints in the system have a <strong>key</strong>. You can think of the key as a primary key, in relational DB terminology, or a unique identifier. The key is the identifier that identifies a particular contact, company, etc. among all the other items of the same kind. For objects of different type, the key could overlap. For example, you could have a Contact and a Case with the same key.</p>
<p>New objects which have not yet saved to Clevertim do <em>not</em> have a key. The key will be None. Once an object’s save method is call to persist it in Clevertim, a key will be allocated from the server to identify that object uniquely among all others of the same type.</p>
</div>
<div class="section" id="some-simple-examples">
<h3>Some simple examples<a class="headerlink" href="#some-simple-examples" title="Permalink to this headline">¶</a></h3>
<p>Loading a contact which exists in Clevertim:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="mi">1234</span><span class="p">)</span>
<span class="c1"># now access the contact</span>
<span class="k">print</span><span class="p">(</span><span class="n">contact</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Adding a new contact</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="n">contact</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="s1">&#39;Mike&#39;</span>
<span class="n">contact</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="s1">&#39;Johnson&#39;</span>
<span class="n">contact</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="c1"># at this point, the contact will be persisted on the server</span>
<span class="c1"># and allocated a key</span>
<span class="k">print</span><span class="p">(</span><span class="n">contact</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<p>Editing an existing contact</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="mi">1234</span><span class="p">)</span>
<span class="c1"># add a new email for this contact</span>
<span class="n">contact</span><span class="o">.</span><span class="n">emails</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;joe.dorian@gmail.com&#39;</span><span class="p">)</span>
<span class="c1"># now save the change to the server</span>
<span class="n">contact</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>Deleting an existing contact</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="mi">1234</span><span class="p">)</span>
<span class="n">contact</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="c1"># the contact instance continues to hold the previous data</span>
<span class="c1"># but it has been deleted from the server</span>
<span class="c1"># and its key will be None</span>
<span class="k">assert</span> <span class="n">contact</span><span class="o">.</span><span class="n">key</span> <span class="ow">is</span> <span class="bp">None</span>
</pre></div>
</div>
</div>
<div class="section" id="lazy-vs-eager-loading-of-data">
<h3>Lazy vs. eager loading of data<a class="headerlink" href="#lazy-vs-eager-loading-of-data" title="Permalink to this headline">¶</a></h3>
<p>Any resource/object can be loaded in a lazy or eager fashion. This is controlled via the lazy_load parameter when the instance is created.
Here is an example.</p>
<p>Eager loading will load the instance on creation. Eager loading is the default <em>modus operandi</em>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="c1"># the next line makes a REST request to the server and</span>
<span class="c1"># load the instance</span>
<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="mi">1234</span><span class="p">)</span>
</pre></div>
</div>
<p>Lazy loading will not load the instance on creation, but on the first access of a property that comes from the server.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clevertimapi</span> <span class="kn">import</span> <span class="n">Contact</span>

<span class="c1"># the next line will not make a REST call</span>
<span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="mi">1234</span><span class="p">,</span> <span class="n">lazy_load</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># accessing the key will not load the object</span>
<span class="c1"># since the key is available on the client side</span>
<span class="k">print</span><span class="p">(</span><span class="n">contact</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
<span class="c1"># the next call will make the REST call</span>
<span class="k">print</span><span class="p">(</span><span class="n">contact</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last simple">
<li>When working with eagerly loaded instances, an incorrect key will raise an exception on instance creation.</li>
<li>When working with lazily loaded instances, an incorrect key will only raise on the first access of the property.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Clevertim Python API documentation!</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#install-the-clevertim-python-api">Install the Clevertim Python API</a></li>
<li><a class="reference internal" href="#get-your-api-key">Get your API key</a></li>
<li><a class="reference internal" href="#create-a-session">Create a Session</a></li>
<li><a class="reference internal" href="#the-concept-of-key">The concept of key</a></li>
<li><a class="reference internal" href="#some-simple-examples">Some simple examples</a></li>
<li><a class="reference internal" href="#lazy-vs-eager-loading-of-data">Lazy vs. eager loading of data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, <a href="https://www.clevertim.com">Clevertim Ltd.</a>.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>